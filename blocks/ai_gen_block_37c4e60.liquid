{% doc %}
  @prompt
    Create a section having image on right side and heading on left side, provide the setting to adjust the width of the image, also provide the setting to set the position of heading, provide horizontal padding setting also, HEADING VERTICAL POSITION AS CENTER, BUT MAKE IT CENTER ALIGNED TOO, ALSO PROVIDE TOP SPACING AND BOTTOM SPACING SETTING, REMOVE THE DESCRIPTION 
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-image-heading-section-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding-left: {{ block.settings.horizontal_padding }}px;
    padding-right: {{ block.settings.horizontal_padding }}px;
    padding-top: {{ block.settings.top_spacing }}px;
    padding-bottom: {{ block.settings.bottom_spacing }}px;
  }

  .ai-image-heading-container-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 40px;
    max-width: 1400px;
    margin: 0 auto;
  }

  .ai-image-heading-content-{{ ai_gen_id }} {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .ai-image-heading-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0;
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-style: {{ block.settings.heading_font.style }};
  }

  .ai-image-heading-image-wrapper-{{ ai_gen_id }} {
    flex-shrink: 0;
    width: {{ block.settings.image_width }}%;
    order: 2;
  }

  .ai-image-heading-image-{{ ai_gen_id }} {
    width: 100%;
    height: auto;
    display: block;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-image-heading-placeholder-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 4 / 3;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: {{ block.settings.image_border_radius }}px;
    position: relative;
  }

  .ai-image-heading-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-image-heading-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  @media screen and (max-width: 749px) {
    .ai-image-heading-container-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 24px;
    }

    .ai-image-heading-image-wrapper-{{ ai_gen_id }} {
      width: 100%;
      order: 1;
    }

    .ai-image-heading-content-{{ ai_gen_id }} {
      order: 2;
    }

    .ai-image-heading-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.7 }}px;
    }

    .ai-image-heading-section-{{ ai_gen_id }} {
      padding-left: {{ block.settings.horizontal_padding | times: 0.5 }}px;
      padding-right: {{ block.settings.horizontal_padding | times: 0.5 }}px;
      padding-top: {{ block.settings.top_spacing | times: 0.5 }}px;
      padding-bottom: {{ block.settings.bottom_spacing | times: 0.5 }}px;
    }
  }
{% endstyle %}

<image-heading-section-{{ ai_gen_id }}
  class="ai-image-heading-section-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-image-heading-container-{{ ai_gen_id }}">
    <div class="ai-image-heading-content-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-image-heading-title-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
      {% endif %}
    </div>

    <div class="ai-image-heading-image-wrapper-{{ ai_gen_id }}">
      {% if block.settings.image %}
        <img
          src="{{ block.settings.image | image_url: width: 1200 }}"
          alt="{{ block.settings.image.alt | escape }}"
          loading="lazy"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.height }}"
          class="ai-image-heading-image-{{ ai_gen_id }}"
        >
      {% else %}
        <div class="ai-image-heading-placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
          <div class="ai-image-heading-empty-state-{{ ai_gen_id }}">
            Add an image
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</image-heading-section-{{ ai_gen_id }}>

<script>
  (function() {
    class ImageHeadingSection{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
      }
    }

    customElements.define('image-heading-section-{{ ai_gen_id }}', ImageHeadingSection{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Image with heading",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "Your heading here"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 48
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_width",
      "min": 30,
      "max": 70,
      "step": 5,
      "unit": "%",
      "label": "Image width",
      "default": 50
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "top_spacing",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Top spacing",
      "default": 40
    },
    {
      "type": "range",
      "id": "bottom_spacing",
      "min": 0,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 40
    },
    {
      "type": "range",
      "id": "desktop_width_percent",
      "label": "Desktop width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    }
  ],
  "presets": [
    {
      "name": "Image with heading"
    }
  ]
}
{% endschema %}
