{% doc %}
  @prompt
    Create a section having blocks, i want a table of 4 columns, rows will be decided as per addition of blocks, also provide the background color to add to the row and also provide the setting to make the text bold, the added blocks will continue the table without having space, also provide the horizontal padding, also provide the setting to make the text center align, and separate the rows and column with the border line
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-table-row-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    background-color: {{ block.settings.row_background_color }};
    border-bottom: 1px solid {{ block.settings.border_color }};
    width: 100%;
  }

  .ai-table-row-{{ ai_gen_id }}:last-child {
    border-bottom: none;
  }

  .ai-table-cell-{{ ai_gen_id }} {
    padding: {{ block.settings.horizontal_padding }}px {{ block.settings.horizontal_padding }}px;
    border-right: 1px solid {{ block.settings.border_color }};
    display: flex;
    align-items: center;
    {% if block.settings.text_align_center %}
      justify-content: center;
      text-align: center;
    {% else %}
      justify-content: flex-start;
      text-align: left;
    {% endif %}
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.font_size }}px;
    {% if block.settings.text_bold %}
      font-weight: 700;
    {% else %}
      font-weight: 400;
    {% endif %}
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .ai-table-cell-{{ ai_gen_id }}:last-child {
    border-right: none;
  }

  @media screen and (max-width: 749px) {
    .ai-table-row-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
    }

    .ai-table-cell-{{ ai_gen_id }}:nth-child(2) {
      border-right: none;
    }

    .ai-table-cell-{{ ai_gen_id }}:nth-child(3),
    .ai-table-cell-{{ ai_gen_id }}:nth-child(4) {
      border-top: 1px solid {{ block.settings.border_color }};
    }
  }
{% endstyle %}

<div class="ai-table-row-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {{ block.settings.column_1 }}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {{ block.settings.column_2 }}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {{ block.settings.column_3 }}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {{ block.settings.column_4 }}
  </div>
</div>

{% schema %}
{
  "name": "Table row",
  "settings": [
    {
      "type": "header",
      "content": "Column content"
    },
    {
      "type": "text",
      "id": "column_1",
      "label": "Column 1",
      "default": "Column 1"
    },
    {
      "type": "text",
      "id": "column_2",
      "label": "Column 2",
      "default": "Column 2"
    },
    {
      "type": "text",
      "id": "column_3",
      "label": "Column 3",
      "default": "Column 3"
    },
    {
      "type": "text",
      "id": "column_4",
      "label": "Column 4",
      "default": "Column 4"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "color",
      "id": "row_background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e0e0e0"
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "label": "Horizontal padding",
      "min": 5,
      "max": 50,
      "step": 5,
      "unit": "px",
      "default": 15
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "text_bold",
      "label": "Bold text",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "text_align_center",
      "label": "Center align text",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Table row"
    }
  ]
}
{% endschema %}
