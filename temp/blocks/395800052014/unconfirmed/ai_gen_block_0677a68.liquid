{% doc %}
  @prompt
    Create a section with the Heading at the top center aligned, below that vertically have image with the size setting as landscape, portrait, small, also below that vertically have description, provide the horizontal padding setting for the image and the description for desktop and mobile view, INCREASE THE RANGE OF THE HORIZONTAL PADDING FOR THE DESCRIPTION, ALSO PROVIDE THE SETTING TO HAVE ORIGINAL SIZE OF THE IMAGE
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-content-block-{{ ai_gen_id }} {
    display: block;
    width: {{ block.settings.desktop_width_percent }}%;
    max-width: 100%;
  }

  .ai-content-block__heading-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 24px 0;
    color: {{ block.settings.heading_color }};
    font-size: {{ block.settings.heading_size }}px;
  }

  .ai-content-block__image-wrapper-{{ ai_gen_id }} {
    margin-bottom: 24px;
    padding-left: {{ block.settings.image_padding_desktop }}px;
    padding-right: {{ block.settings.image_padding_desktop }}px;
  }

  .ai-content-block__image-{{ ai_gen_id }} {
    {% if block.settings.image_size == 'original' %}
      width: auto;
      max-width: 100%;
    {% else %}
      width: 100%;
    {% endif %}
    height: auto;
    display: block;
    {% if block.settings.image_size == 'original' %}
      margin: 0 auto;
    {% endif %}
  }

  .ai-content-block__image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  {% if block.settings.image_size == 'landscape' %}
    .ai-content-block__image-placeholder-{{ ai_gen_id }} {
      aspect-ratio: 16 / 9;
    }
  {% elsif block.settings.image_size == 'portrait' %}
    .ai-content-block__image-placeholder-{{ ai_gen_id }} {
      aspect-ratio: 3 / 4;
    }
  {% elsif block.settings.image_size == 'small' %}
    .ai-content-block__image-placeholder-{{ ai_gen_id }} {
      aspect-ratio: 1 / 1;
      max-width: 400px;
      margin: 0 auto;
    }
  {% elsif block.settings.image_size == 'original' %}
    .ai-content-block__image-placeholder-{{ ai_gen_id }} {
      aspect-ratio: 16 / 9;
    }
  {% endif %}

  .ai-content-block__image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-content-block__empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  .ai-content-block__description-{{ ai_gen_id }} {
    padding-left: {{ block.settings.description_padding_desktop }}px;
    padding-right: {{ block.settings.description_padding_desktop }}px;
    color: {{ block.settings.description_color }};
    font-size: {{ block.settings.description_size }}px;
    line-height: 1.6;
  }

  @media screen and (max-width: 749px) {
    .ai-content-block__image-wrapper-{{ ai_gen_id }} {
      padding-left: {{ block.settings.image_padding_mobile }}px;
      padding-right: {{ block.settings.image_padding_mobile }}px;
    }

    .ai-content-block__description-{{ ai_gen_id }} {
      padding-left: {{ block.settings.description_padding_mobile }}px;
      padding-right: {{ block.settings.description_padding_mobile }}px;
    }
  }
{% endstyle %}

<div class="ai-content-block-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% if block.settings.heading != blank %}
    <h2 class="ai-content-block__heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
  {% endif %}

  <div class="ai-content-block__image-wrapper-{{ ai_gen_id }}">
    {% if block.settings.image %}
      <img
        src="{{ block.settings.image | image_url: width: 2000 }}"
        alt="{{ block.settings.image.alt | escape }}"
        loading="lazy"
        width="{{ block.settings.image.width }}"
        height="{{ block.settings.image.height }}"
        class="ai-content-block__image-{{ ai_gen_id }}"
      >
    {% else %}
      <div class="ai-content-block__image-placeholder-{{ ai_gen_id }}">
        {{ 'image' | placeholder_svg_tag }}
        <div class="ai-content-block__empty-state-{{ ai_gen_id }}">
          Add an image
        </div>
      </div>
    {% endif %}
  </div>

  {% if block.settings.description != blank %}
    <div class="ai-content-block__description-{{ ai_gen_id }}">
      {{ block.settings.description }}
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Content with image",
  "settings": [
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our Story"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "Image size",
      "options": [
        {
          "value": "landscape",
          "label": "Landscape"
        },
        {
          "value": "portrait",
          "label": "Portrait"
        },
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "original",
          "label": "Original"
        }
      ],
      "default": "landscape"
    },
    {
      "type": "range",
      "id": "image_padding_desktop",
      "label": "Horizontal padding (desktop)",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "image_padding_mobile",
      "label": "Horizontal padding (mobile)",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Share your brand story, values, or product details here. This text will appear below the image.</p>"
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Description size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#5c5c5c"
    },
    {
      "type": "range",
      "id": "description_padding_desktop",
      "label": "Horizontal padding (desktop)",
      "min": 0,
      "max": 400,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "description_padding_mobile",
      "label": "Horizontal padding (mobile)",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "desktop_width_percent",
      "label": "Desktop width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 100
    }
  ],
  "presets": [
    {
      "name": "Content with image"
    }
  ]
}
{% endschema %}
