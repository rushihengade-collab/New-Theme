{% doc %}
  @prompt
    Create a section having blocks which have by default horizontal padding setting which will apply to all blocks , i want a table of 4 columns, rows will be decided as per addition of blocks, also provide the background color to add to the row and also provide the setting to make the text bold, the added blocks will continue the table without having space, make the table, rows and columns bordered, entire table, rows and column should have same color border line + also have the setting to have the text of the row center aligned, while creating the section provide the setting to have horizontal padding for the section and not for the block
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-table-row-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    background-color: {{ block.settings.row_background_color }};
    border: 1px solid {{ section.settings.border_color }};
    border-top: none;
    width: 100%;
  }

  .ai-table-row-{{ ai_gen_id }}:first-child {
    border-top: 1px solid {{ section.settings.border_color }};
  }

  .ai-table-cell-{{ ai_gen_id }} {
    padding: 12px;
    border-right: 1px solid {{ section.settings.border_color }};
    display: flex;
    align-items: center;
    {% if block.settings.center_align %}
      justify-content: center;
      text-align: center;
    {% endif %}
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .ai-table-cell-{{ ai_gen_id }}:last-child {
    border-right: none;
  }

  .ai-table-cell-{{ ai_gen_id }} p {
    margin: 0;
    {% if block.settings.bold_text %}
      font-weight: bold;
    {% endif %}
  }

  @media screen and (max-width: 749px) {
    .ai-table-row-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
    }

    .ai-table-cell-{{ ai_gen_id }}:nth-child(2) {
      border-right: none;
    }

    .ai-table-cell-{{ ai_gen_id }}:nth-child(3),
    .ai-table-cell-{{ ai_gen_id }}:nth-child(4) {
      border-top: 1px solid {{ section.settings.border_color }};
    }
  }
{% endstyle %}

<div class="ai-table-row-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {% if block.settings.column_1_text != blank %}
      <p>{{ block.settings.column_1_text }}</p>
    {% else %}
      <p>Column 1</p>
    {% endif %}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {% if block.settings.column_2_text != blank %}
      <p>{{ block.settings.column_2_text }}</p>
    {% else %}
      <p>Column 2</p>
    {% endif %}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {% if block.settings.column_3_text != blank %}
      <p>{{ block.settings.column_3_text }}</p>
    {% else %}
      <p>Column 3</p>
    {% endif %}
  </div>
  <div class="ai-table-cell-{{ ai_gen_id }}">
    {% if block.settings.column_4_text != blank %}
      <p>{{ block.settings.column_4_text }}</p>
    {% else %}
      <p>Column 4</p>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Table row",
  "settings": [
    {
      "type": "header",
      "content": "Column 1"
    },
    {
      "type": "text",
      "id": "column_1_text",
      "label": "Text",
      "default": "Column 1"
    },
    {
      "type": "header",
      "content": "Column 2"
    },
    {
      "type": "text",
      "id": "column_2_text",
      "label": "Text",
      "default": "Column 2"
    },
    {
      "type": "header",
      "content": "Column 3"
    },
    {
      "type": "text",
      "id": "column_3_text",
      "label": "Text",
      "default": "Column 3"
    },
    {
      "type": "header",
      "content": "Column 4"
    },
    {
      "type": "text",
      "id": "column_4_text",
      "label": "Text",
      "default": "Column 4"
    },
    {
      "type": "header",
      "content": "Row style"
    },
    {
      "type": "color",
      "id": "row_background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "checkbox",
      "id": "bold_text",
      "label": "Bold text",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "center_align",
      "label": "Center align text",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Table row"
    }
  ]
}
{% endschema %}
